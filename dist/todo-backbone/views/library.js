define("dist/todo-backbone/views/library",["gallery/backbone/1.1.0/backbone","gallery/underscore/1.5.2/underscore","$","jquery/jquery/1.10.1/jquery","../views/book"],function(a,b,c){var d=a("gallery/backbone/1.1.0/backbone"),e=a("jquery/jquery/1.10.1/jquery"),f=a("gallery/underscore/1.5.2/underscore"),g=a("../views/book"),h=d.View.extend({el:"#library",events:{"click #add":"addBook"},libraryTemplate:e("#indexTemplate").html(),updateDebug:function(){e("#output").text(JSON.stringify(this.collection.toJSON(),null,4))},initialize:function(){console.log("LibraryView-initialize"),this.collection.bind("reset",this.render,this),this.collection.bind("all",this.updateDebug,this),this.collection.comparator=function(a){return a.get("title")}},render:function(){return console.log("LibraryView-render"),this.$el.html(this.libraryTemplate),this.addAll(),this},addAll:function(){console.log("addAll",this.collection),this.$el.find("tbody").children().remove(),f.each(this.collection.models,e.proxy(this,"addOne"))},addOne:function(a){console.log("addOne");var b=new g({collection:this.collection,model:a});this.$el.find("tbody").append(b.render().el)}});c.exports=h}),define("dist/todo-backbone/views/book",["gallery/backbone/1.1.0/backbone","gallery/underscore/1.5.2/underscore","$","jquery/jquery/1.10.1/jquery"],function(a,b,c){var d=a("gallery/backbone/1.1.0/backbone"),e=a("jquery/jquery/1.10.1/jquery"),f=a("gallery/underscore/1.5.2/underscore"),g=d.View.extend({tagName:"tr",className:"bookContainer",template:e("#rowTemplate").html(),events:{"click .delete":"destroy"},initialize:function(a){console.log("BookView-initialize",a.model.id),this.collection=a.collection,this.model=a.model,f.bindAll(this,"render","destroy")},render:function(){console.log("BookView-render");var a=f.template(this.template);return this.$el.html(a(this.model.toJSON())),this},destroy:function(a){var b=this,c=this.model.get("id");a.preventDefault(),a.stopPropagation(),confirm("Are you sure?")&&this.model.destroy({type:"GET",url:"server/delete.php",data:e.param({id:c}),success:function(a,c){console.log("success",a,c),b.remove()},error:function(a,b){console.log("error",a,b)}})}});c.exports=g});